---
import type { GetStaticPaths } from "astro";
import { getCollection } from "astro:content";
import '../../assets/styles/global.css';
import logo from '../../assets/img/logoCumtual.svg';
import back from '../../assets/img/prev.svg';
import Layout from "../../layouts/Layout.astro";
const proyectos = await getCollection('proyectos');
export async function getStaticPaths(){
    const proyectos = await getCollection("proyectos");

    return proyectos.map((proyecto) => ({
        params:{id: proyecto.slug},
        props:{ proyecto }
    }))
}

const { proyecto } = Astro.props;
const { data } = proyecto;
const { title, company, img, description,images } = data;
// const { Content } = await render(proyecto);
const pageTitle = title;
---

<Layout pageTitle={pageTitle} >
<section class="relative w-full overflow-hidden">     
     
    
  <div class="relative mt-48 text-center font-extrabold">
         
          <h1 class="font-serif text-bg-gray-cumtual text-2xl">{title}</h1>
          <div class="ml-[-85px] mt-[100px] md:ml-[110px] lg:ml-[260px] flex flex-wrap ">
            <div class="mt-3 h-[300px] ml-[85px] group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
                  <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
            </div>
            <div class=" h-[300px] ml-[85px] mt-3 group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
              <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
          </div>
          <div class=" h-[300px] ml-[85px] mt-3 group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
            <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
          </div>
          <div class=" h-[300px] ml-[85px] mt-3 group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
            <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
          </div>
          <div class=" h-[300px] ml-[85px] mt-3 group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
            <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
          </div>
          <div  class=" h-[300px] ml-[85px] mt-3 group relative rounded-[12px] overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg lg:ml-[10px] ">          
            <img loading="lazy"   class=" lg:w-full h-full object-cover transition-all duration-300" src={`/ImagenesConvertidas/${img}`} alt={title} />                
      </div>
        </div>     
    </div>
  </section>
  <section class="relative w-full overflow-hidden mt-[50px]">
    <div class=" lg:h-[333px] bg-[#d9d9d926] text-center pt-14">
      <div class="max-w-[530px] ml-auto mr-auto text-bg-gray-cumtual">
        <h3 class="font-semibold">Agendar cita</h3>
        <p class="text-center font-normal mt-7">
          Lorem ipsum, dolor sit amet consectetur adipisicing elit. Vero voluptatem dolores corrupti maxime, 
          pariatur, hic officia ipsam obcaecati sequi debitis, eveniet error eos? Sed dicta distinctio voluptas aperiam tempora nulla!
        </p>
        <div class="flex flex-col sm:flex-row sm:space-x-6 sm:space-y-0 justify-center mt-8 ">
          <a class="px-6 py-3 text-black border-2 border-black hover:bg-gray-200 transition duration-300 cursor-pointer">
					  CONTACTANOS
					</a>
				  </div>
      </div>
     
    </div>
  </section>

  <section class="relative w-full overflow-hidden mt-[50px]">
    <div id="app" class="max-w-screen-lg mx-auto px-4 md:px-8 py-12 transition-all duration-500 ease-linear">
      <h1 class="font-cabinetGrotesk text-3xl lg:text-4xl font-bold mb-12 leading-tight text-bg-gray-cumtual">OTROS PROYECTOS</h1>
      <div class="relative">
        <div class="slides-container h-72 flex snap-x snap-mandatory overflow-hidden overflow-x-auto space-x-2 rounded scroll-smooth before:w-[45vw] before:shrink-0 after:w-[45vw] after:shrink-0 md:before:w-0 md:after:w-0">
          {proyectos.map(proyecto => {
            const { data } = proyecto;
            const { title, company, img, description, slug } = data;

            return (
          <div class="slide aspect-square h-full flex-shrink-0 snap-center rounded overflow-hidden transition-all duration-300 transform hover:scale-95 hover:shadow-lg">
          
            <img class="w-full h-full object-cover" src={`/ImagenesConvertidas/${img}`} alt="mountain_image">

            <div class="absolute inset-0 lg:bg-bg-gray-cumtual/0 lg:group-hover:bg-bg-gray-cumtual/70 transition-opacity duration-300"></div>
          </div>
       
          );
        })}
        </div>
  
        <div class="absolute top-0 -left-4 h-full items-center hidden md:flex">
          <button role="button" class="prev px-2 py-2 rounded-full bg-neutral-100 text-neutral-900 group" aria-label="prev"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 group-active:-translate-x-2 transition-all duration-200 ease-linear">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" />
            </svg>
  
          </button>
        </div>
        <div class="absolute top-0 -right-4 h-full items-center hidden md:flex">
          <button role="button" class="next px-2 py-2 rounded-full bg-neutral-100 text-neutral-900 group" aria-label="next"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 group-active:translate-x-2 transition-all duration-200 ease-linear">
              <path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" />
            </svg>
          </button>
        </div>
      </div>
    </div>
  </section>

  <script>
      const slidesContainer = document.querySelector(".slides-container");
      const slideWidth = slidesContainer.querySelector(".slide").clientWidth;
      const prevButton = document.querySelector(".prev");
      const nextButton = document.querySelector(".next");

      nextButton?.addEventListener("click", () => {
        slidesContainer.scrollLeft += slideWidth;
      });

      prevButton.addEventListener("click", () => {
        slidesContainer.scrollLeft -= slideWidth;
      });
      

  </script>
 
  

 
  
</Layout>



